<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 4 Visualização com ggplot2 | Probabilidade e Estatística com R</title>
<meta name="author" content="Fernando Náufel">
<meta name="description" content="Busque mais informações sobre os pacotes tidyverse e ggplot2 nas referências recomendadas.  4.1 Vídeo 1    4.2 Componentes de um gráfico ggplot2  4.2.1 Geometrias e mapeamentos estéticos...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Capítulo 4 Visualização com ggplot2 | Probabilidade e Estatística com R">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/640px-Nightingale-mortality.jpg">
<meta property="og:description" content="Busque mais informações sobre os pacotes tidyverse e ggplot2 nas referências recomendadas.  4.1 Vídeo 1    4.2 Componentes de um gráfico ggplot2  4.2.1 Geometrias e mapeamentos estéticos...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 4 Visualização com ggplot2 | Probabilidade e Estatística com R">
<meta name="twitter:description" content="Busque mais informações sobre os pacotes tidyverse e ggplot2 nas referências recomendadas.  4.1 Vídeo 1    4.2 Componentes de um gráfico ggplot2  4.2.1 Geometrias e mapeamentos estéticos...">
<meta name="twitter:image" content="/images/640px-Nightingale-mortality.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Lexend-0.4.7/font.css" rel="stylesheet">
<link href="libs/JetBrains_Mono-0.4.7/font.css" rel="stylesheet">
<link href="libs/Roboto-0.4.7/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="html_files/alterar_detalhes.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="html_files/styles_all.css">
<link rel="stylesheet" href="html_files/styles_book.css">
<link rel="stylesheet" href="html_files/webex.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Ir para conteúdo principal</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Probabilidade e Estatística com R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Mostrar sumário</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Buscar" aria-label="Buscar">
</form>

      <nav aria-label="Conteúdo"><h2>Conteúdo</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Apresentação</a></li>
<li><a class="" href="oque.html"><span class="header-section-number">1</span> O Que É Estatística?</a></li>
<li><a class="" href="rintro.html"><span class="header-section-number">2</span> Introdução a R</a></li>
<li><a class="" href="introdu%C3%A7%C3%A3o-ao-tidyverse.html"><span class="header-section-number">3</span> Introdução ao tidyverse</a></li>
<li><a class="active" href="viz.html"><span class="header-section-number">4</span> Visualização com ggplot2</a></li>
<li><a class="" href="viz2.html"><span class="header-section-number">5</span> Visualização com ggplot2 (continuação)</a></li>
<li><a class="" href="medidas.html"><span class="header-section-number">6</span> Medidas</a></li>
<li><a class="" href="probs.html"><span class="header-section-number">7</span> Probabilidades</a></li>
<li><a class="" href="variaveis.html"><span class="header-section-number">8</span> Variáveis aleatórias</a></li>
<li><a class="" href="discretas.html"><span class="header-section-number">9</span> Distribuições discretas</a></li>
<li><a class="" href="distribui%C3%A7%C3%B5es-cont%C3%ADnuas.html"><span class="header-section-number">10</span> Distribuições contínuas</a></li>
<li><a class="" href="refer%C3%AAncias.html">Referências</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/fnaufel/probestr">Ver código-fonte do livro <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="viz" class="section level1" number="4">
<h1>
<span class="header-section-number">Capítulo 4</span> Visualização com ggplot2<a class="anchor" aria-label="anchor" href="#viz"><i class="fas fa-link"></i></a>
</h1>
<div class="rmdtip">
<p>Busque mais informações sobre os pacotes <code>tidyverse</code> e <code>ggplot2</code> <a href="index.html#refrec">nas referências recomendadas</a>.</p>
</div>
<div id="vídeo-1-2" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Vídeo 1<a class="anchor" aria-label="anchor" href="#v%C3%ADdeo-1-2"><i class="fas fa-link"></i></a>
</h2>
<iframe src="https://www.youtube.com/embed/OBpNjqIIyhI" width="100%" height="400px" data-external="1" class="center" style="width: 80%;">
</iframe>
</div>
<div id="componentes-de-um-gráfico-ggplot2" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Componentes de um gráfico ggplot2<a class="anchor" aria-label="anchor" href="#componentes-de-um-gr%C3%A1fico-ggplot2"><i class="fas fa-link"></i></a>
</h2>
<div id="geometrias-e-mapeamentos-estéticos-mappings" class="section level3" number="4.2.1">
<h3>
<span class="header-section-number">4.2.1</span> Geometrias e mapeamentos estéticos (<em>mappings</em>)<a class="anchor" aria-label="anchor" href="#geometrias-e-mapeamentos-est%C3%A9ticos-mappings"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Observe o gráfico abaixo, obtido de <a href="https://www.gapminder.org/downloads/updated-gapminder-world-poster-2015/" class="uri">https://www.gapminder.org/downloads/updated-gapminder-world-poster-2015/</a>.</li>
</ul>
<div class="inline-figure"><img src="images/countries-1.png" width="100%" style="display: block; margin: auto;"></div>
<ul>
<li><p>O gráfico mostra como, em cada país, a saúde (mais precisamente, a expectativa de vida) se relaciona com a riqueza (mais precisamente, o PIB <em>per capita</em>).</p></li>
<li><p>Além da expectativa de vida e o do PIB <em>per capita</em>, o gráfico traz mais informações sobre cada país.</p></li>
<li><p>Cada país é representado por um ponto (a <span class="hl">geometria</span>).</p></li>
<li>
<p>Informações sobre cada país são representadas por características do ponto correspondente (as <span class="hl">estéticas</span>):</p>
<div style="width: 50%; margin: auto;">
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Variável</th>
<th>Geometria</th>
<th>Estética</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>PIB <em>per capita</em>
</td>
<td>ponto</td>
<td>posição x</td>
</tr>
<tr class="even">
<td>Expectativa de vida</td>
<td>ponto</td>
<td>posição y</td>
</tr>
<tr class="odd">
<td>População</td>
<td>ponto</td>
<td>tamanho</td>
</tr>
<tr class="even">
<td>Continente</td>
<td>ponto</td>
<td>cor</td>
</tr>
</tbody>
</table></div>
</div>
</li>
<li>
<p>Você pode usar outras estéticas para representar informações:</p>
<ul>
<li>Cor de preenchimento.</li>
<li>Cor do traço.</li>
<li>Tipo do traço (sólido, pontilhado, tracejado etc.).</li>
<li>Forma (círculo, quadrado, triângulo etc.).</li>
<li>Opacidade.</li>
<li>etc.</li>
</ul>
</li>
<li>
<p>Você pode usar outras geometrias:</p>
<ul>
<li>Linhas.</li>
<li>Barras ou colunas.</li>
<li>Caixas.</li>
<li>etc.</li>
</ul>
</li>
</ul>
</div>
<div id="escalas-scales" class="section level3" number="4.2.2">
<h3>
<span class="header-section-number">4.2.2</span> Escalas (<em>scales</em>)<a class="anchor" aria-label="anchor" href="#escalas-scales"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>As escalas controlam os detalhes da aparência da geometria e do mapeamento (eixos, cores etc.).</p></li>
<li><p>Os eixos do gráfico acima são escalas <span class="hl">contínuas</span>, com valores reais.</p></li>
<li><p>Observe o eixo horizontal. Os valores não aumentam linearmente, mas sim exponencialmente: cada passo à direita equivale a <em>dobrar</em> o valor do PIB. O eixo horizontal segue uma <span class="hl">escala logarítmica</span>.</p></li>
<li><p>Os tamanhos dos pontos formam uma escala <span class="hl">discreta</span>, com <span class="math inline">\(4\)</span> valores possíveis (veja a legenda no canto inferior direito do gráfico).</p></li>
<li><p>As cores também formam uma escala discreta.</p></li>
</ul>
</div>
<div id="rótulos-labels" class="section level3" number="4.2.3">
<h3>
<span class="header-section-number">4.2.3</span> Rótulos (<em>labels</em>)<a class="anchor" aria-label="anchor" href="#r%C3%B3tulos-labels"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>O gráfico também representa informação na forma de texto.</p></li>
<li><p>Além de rótulos (por exemplo, o texto que identifica cada eixo), <span class="hl">o texto também pode, ele mesmo, ser uma geometria, com suas próprias estéticas:</span> observe como o nome de cada país é escrito em um tamanho proporcional à sua população.</p></li>
</ul>
</div>
<div id="outros-componentes" class="section level3" number="4.2.4">
<h3>
<span class="header-section-number">4.2.4</span> Outros componentes<a class="anchor" aria-label="anchor" href="#outros-componentes"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Coordenadas:</p>
<ul>
<li><p>Este gráfico usa <span class="hl">coordenadas cartesianas</span>, com eixos <span class="math inline">\(x\)</span> e <span class="math inline">\(y\)</span>.</p></li>
<li><p>Existem gráficos que usam um sistema de <span class="hl">coordenadas polares</span>.</p></li>
</ul>
</li>
<li>
<p>Temas:</p>
<ul>
<li><p>Incluem todos os elementos “decorativos”: cor de fundo, linhas de grade, etc. Ajudam a facilitar a leitura e a interpretação.</p></li>
<li><p>No gráfico acima, um detalhe interessante do tema é a divisão de cada eixo em segmentos claros e segmentos escuros.</p></li>
</ul>
</li>
<li><p>Legendas (<em>guides</em>).</p></li>
<li>
<p>Facetas:</p>
<ul>
<li><p>Às vezes, um gráfico é composto por múltiplos subgráficos.</p></li>
<li><p>Cada subgráfico é uma <span class="hl">faceta</span>.</p></li>
<li><p>Facetas evitam que informações demais sejam apresentadas no mesmo lugar.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="mamiferos" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Conjunto de dados<a class="anchor" aria-label="anchor" href="#mamiferos"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Nossos exemplos de gráficos vão usar dados sobre o sono de diversos mamíferos.</p></li>
<li><p>O conjunto de dados se chama <code>msleep</code> e está incluído no pacote <code>ggplot2</code>.</p></li>
<li>
<p>Para ver a documentação, digite</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="op">?</span><span class="va">msleep</span></span></code></pre></div>
</li>
<li>
<p>Vamos atribuir o conjunto de dados à variável <code>df</code>:</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">msleep</span></span>
<span><span class="va">df</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[2],"type":["chr"],"align":["left"]},{"label":["vore"],"name":[3],"type":["chr"],"align":["left"]},{"label":["order"],"name":[4],"type":["chr"],"align":["left"]},{"label":["conservation"],"name":[5],"type":["chr"],"align":["left"]},{"label":["sleep_total"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["sleep_rem"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sleep_cycle"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["awake"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["brainwt"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["bodywt"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"Cheetah","2":"Acinonyx","3":"carni","4":"Carnivora","5":"lc","6":"12,1","7":"NA","8":"NA","9":"11,90","10":"NA","11":"50,000"},{"1":"Owl monkey","2":"Aotus","3":"omni","4":"Primates","5":"NA","6":"17,0","7":"1,8","8":"NA","9":"7,00","10":"0,01550","11":"0,480"},{"1":"Mountain beaver","2":"Aplodontia","3":"herbi","4":"Rodentia","5":"nt","6":"14,4","7":"2,4","8":"NA","9":"9,60","10":"NA","11":"1,350"},{"1":"Greater short-tailed shrew","2":"Blarina","3":"omni","4":"Soricomorpha","5":"lc","6":"14,9","7":"2,3","8":"0,1333333","9":"9,10","10":"0,00029","11":"0,019"},{"1":"Cow","2":"Bos","3":"herbi","4":"Artiodactyla","5":"domesticated","6":"4,0","7":"0,7","8":"0,6666667","9":"20,00","10":"0,42300","11":"600,000"},{"1":"Three-toed sloth","2":"Bradypus","3":"herbi","4":"Pilosa","5":"NA","6":"14,4","7":"2,2","8":"0,7666667","9":"9,60","10":"NA","11":"3,850"},{"1":"Northern fur seal","2":"Callorhinus","3":"carni","4":"Carnivora","5":"vu","6":"8,7","7":"1,4","8":"0,3833333","9":"15,30","10":"NA","11":"20,490"},{"1":"Vesper mouse","2":"Calomys","3":"NA","4":"Rodentia","5":"NA","6":"7,0","7":"NA","8":"NA","9":"17,00","10":"NA","11":"0,045"},{"1":"Dog","2":"Canis","3":"carni","4":"Carnivora","5":"domesticated","6":"10,1","7":"2,9","8":"0,3333333","9":"13,90","10":"0,07000","11":"14,000"},{"1":"Roe deer","2":"Capreolus","3":"herbi","4":"Artiodactyla","5":"lc","6":"3,0","7":"NA","8":"NA","9":"21,00","10":"0,09820","11":"14,800"},{"1":"Goat","2":"Capri","3":"herbi","4":"Artiodactyla","5":"lc","6":"5,3","7":"0,6","8":"NA","9":"18,70","10":"0,11500","11":"33,500"},{"1":"Guinea pig","2":"Cavis","3":"herbi","4":"Rodentia","5":"domesticated","6":"9,4","7":"0,8","8":"0,2166667","9":"14,60","10":"0,00550","11":"0,728"},{"1":"Grivet","2":"Cercopithecus","3":"omni","4":"Primates","5":"lc","6":"10,0","7":"0,7","8":"NA","9":"14,00","10":"NA","11":"4,750"},{"1":"Chinchilla","2":"Chinchilla","3":"herbi","4":"Rodentia","5":"domesticated","6":"12,5","7":"1,5","8":"0,1166667","9":"11,50","10":"0,00640","11":"0,420"},{"1":"Star-nosed mole","2":"Condylura","3":"omni","4":"Soricomorpha","5":"lc","6":"10,3","7":"2,2","8":"NA","9":"13,70","10":"0,00100","11":"0,060"},{"1":"African giant pouched rat","2":"Cricetomys","3":"omni","4":"Rodentia","5":"NA","6":"8,3","7":"2,0","8":"NA","9":"15,70","10":"0,00660","11":"1,000"},{"1":"Lesser short-tailed shrew","2":"Cryptotis","3":"omni","4":"Soricomorpha","5":"lc","6":"9,1","7":"1,4","8":"0,1500000","9":"14,90","10":"0,00014","11":"0,005"},{"1":"Long-nosed armadillo","2":"Dasypus","3":"carni","4":"Cingulata","5":"lc","6":"17,4","7":"3,1","8":"0,3833333","9":"6,60","10":"0,01080","11":"3,500"},{"1":"Tree hyrax","2":"Dendrohyrax","3":"herbi","4":"Hyracoidea","5":"lc","6":"5,3","7":"0,5","8":"NA","9":"18,70","10":"0,01230","11":"2,950"},{"1":"North American Opossum","2":"Didelphis","3":"omni","4":"Didelphimorphia","5":"lc","6":"18,0","7":"4,9","8":"0,3333333","9":"6,00","10":"0,00630","11":"1,700"},{"1":"Asian elephant","2":"Elephas","3":"herbi","4":"Proboscidea","5":"en","6":"3,9","7":"NA","8":"NA","9":"20,10","10":"4,60300","11":"2547,000"},{"1":"Big brown bat","2":"Eptesicus","3":"insecti","4":"Chiroptera","5":"lc","6":"19,7","7":"3,9","8":"0,1166667","9":"4,30","10":"0,00030","11":"0,023"},{"1":"Horse","2":"Equus","3":"herbi","4":"Perissodactyla","5":"domesticated","6":"2,9","7":"0,6","8":"1,0000000","9":"21,10","10":"0,65500","11":"521,000"},{"1":"Donkey","2":"Equus","3":"herbi","4":"Perissodactyla","5":"domesticated","6":"3,1","7":"0,4","8":"NA","9":"20,90","10":"0,41900","11":"187,000"},{"1":"European hedgehog","2":"Erinaceus","3":"omni","4":"Erinaceomorpha","5":"lc","6":"10,1","7":"3,5","8":"0,2833333","9":"13,90","10":"0,00350","11":"0,770"},{"1":"Patas monkey","2":"Erythrocebus","3":"omni","4":"Primates","5":"lc","6":"10,9","7":"1,1","8":"NA","9":"13,10","10":"0,11500","11":"10,000"},{"1":"Western american chipmunk","2":"Eutamias","3":"herbi","4":"Rodentia","5":"NA","6":"14,9","7":"NA","8":"NA","9":"9,10","10":"NA","11":"0,071"},{"1":"Domestic cat","2":"Felis","3":"carni","4":"Carnivora","5":"domesticated","6":"12,5","7":"3,2","8":"0,4166667","9":"11,50","10":"0,02560","11":"3,300"},{"1":"Galago","2":"Galago","3":"omni","4":"Primates","5":"NA","6":"9,8","7":"1,1","8":"0,5500000","9":"14,20","10":"0,00500","11":"0,200"},{"1":"Giraffe","2":"Giraffa","3":"herbi","4":"Artiodactyla","5":"cd","6":"1,9","7":"0,4","8":"NA","9":"22,10","10":"NA","11":"899,995"},{"1":"Pilot whale","2":"Globicephalus","3":"carni","4":"Cetacea","5":"cd","6":"2,7","7":"0,1","8":"NA","9":"21,35","10":"NA","11":"800,000"},{"1":"Gray seal","2":"Haliochoerus","3":"carni","4":"Carnivora","5":"lc","6":"6,2","7":"1,5","8":"NA","9":"17,80","10":"0,32500","11":"85,000"},{"1":"Gray hyrax","2":"Heterohyrax","3":"herbi","4":"Hyracoidea","5":"lc","6":"6,3","7":"0,6","8":"NA","9":"17,70","10":"0,01227","11":"2,625"},{"1":"Human","2":"Homo","3":"omni","4":"Primates","5":"NA","6":"8,0","7":"1,9","8":"1,5000000","9":"16,00","10":"1,32000","11":"62,000"},{"1":"Mongoose lemur","2":"Lemur","3":"herbi","4":"Primates","5":"vu","6":"9,5","7":"0,9","8":"NA","9":"14,50","10":"NA","11":"1,670"},{"1":"African elephant","2":"Loxodonta","3":"herbi","4":"Proboscidea","5":"vu","6":"3,3","7":"NA","8":"NA","9":"20,70","10":"5,71200","11":"6654,000"},{"1":"Thick-tailed opposum","2":"Lutreolina","3":"carni","4":"Didelphimorphia","5":"lc","6":"19,4","7":"6,6","8":"NA","9":"4,60","10":"NA","11":"0,370"},{"1":"Macaque","2":"Macaca","3":"omni","4":"Primates","5":"NA","6":"10,1","7":"1,2","8":"0,7500000","9":"13,90","10":"0,17900","11":"6,800"},{"1":"Mongolian gerbil","2":"Meriones","3":"herbi","4":"Rodentia","5":"lc","6":"14,2","7":"1,9","8":"NA","9":"9,80","10":"NA","11":"0,053"},{"1":"Golden hamster","2":"Mesocricetus","3":"herbi","4":"Rodentia","5":"en","6":"14,3","7":"3,1","8":"0,2000000","9":"9,70","10":"0,00100","11":"0,120"},{"1":"Vole","2":"Microtus","3":"herbi","4":"Rodentia","5":"NA","6":"12,8","7":"NA","8":"NA","9":"11,20","10":"NA","11":"0,035"},{"1":"House mouse","2":"Mus","3":"herbi","4":"Rodentia","5":"nt","6":"12,5","7":"1,4","8":"0,1833333","9":"11,50","10":"0,00040","11":"0,022"},{"1":"Little brown bat","2":"Myotis","3":"insecti","4":"Chiroptera","5":"NA","6":"19,9","7":"2,0","8":"0,2000000","9":"4,10","10":"0,00025","11":"0,010"},{"1":"Round-tailed muskrat","2":"Neofiber","3":"herbi","4":"Rodentia","5":"nt","6":"14,6","7":"NA","8":"NA","9":"9,40","10":"NA","11":"0,266"},{"1":"Slow loris","2":"Nyctibeus","3":"carni","4":"Primates","5":"NA","6":"11,0","7":"NA","8":"NA","9":"13,00","10":"0,01250","11":"1,400"},{"1":"Degu","2":"Octodon","3":"herbi","4":"Rodentia","5":"lc","6":"7,7","7":"0,9","8":"NA","9":"16,30","10":"NA","11":"0,210"},{"1":"Northern grasshopper mouse","2":"Onychomys","3":"carni","4":"Rodentia","5":"lc","6":"14,5","7":"NA","8":"NA","9":"9,50","10":"NA","11":"0,028"},{"1":"Rabbit","2":"Oryctolagus","3":"herbi","4":"Lagomorpha","5":"domesticated","6":"8,4","7":"0,9","8":"0,4166667","9":"15,60","10":"0,01210","11":"2,500"},{"1":"Sheep","2":"Ovis","3":"herbi","4":"Artiodactyla","5":"domesticated","6":"3,8","7":"0,6","8":"NA","9":"20,20","10":"0,17500","11":"55,500"},{"1":"Chimpanzee","2":"Pan","3":"omni","4":"Primates","5":"NA","6":"9,7","7":"1,4","8":"1,4166667","9":"14,30","10":"0,44000","11":"52,200"},{"1":"Tiger","2":"Panthera","3":"carni","4":"Carnivora","5":"en","6":"15,8","7":"NA","8":"NA","9":"8,20","10":"NA","11":"162,564"},{"1":"Jaguar","2":"Panthera","3":"carni","4":"Carnivora","5":"nt","6":"10,4","7":"NA","8":"NA","9":"13,60","10":"0,15700","11":"100,000"},{"1":"Lion","2":"Panthera","3":"carni","4":"Carnivora","5":"vu","6":"13,5","7":"NA","8":"NA","9":"10,50","10":"NA","11":"161,499"},{"1":"Baboon","2":"Papio","3":"omni","4":"Primates","5":"NA","6":"9,4","7":"1,0","8":"0,6666667","9":"14,60","10":"0,18000","11":"25,235"},{"1":"Desert hedgehog","2":"Paraechinus","3":"NA","4":"Erinaceomorpha","5":"lc","6":"10,3","7":"2,7","8":"NA","9":"13,70","10":"0,00240","11":"0,550"},{"1":"Potto","2":"Perodicticus","3":"omni","4":"Primates","5":"lc","6":"11,0","7":"NA","8":"NA","9":"13,00","10":"NA","11":"1,100"},{"1":"Deer mouse","2":"Peromyscus","3":"NA","4":"Rodentia","5":"NA","6":"11,5","7":"NA","8":"NA","9":"12,50","10":"NA","11":"0,021"},{"1":"Phalanger","2":"Phalanger","3":"NA","4":"Diprotodontia","5":"NA","6":"13,7","7":"1,8","8":"NA","9":"10,30","10":"0,01140","11":"1,620"},{"1":"Caspian seal","2":"Phoca","3":"carni","4":"Carnivora","5":"vu","6":"3,5","7":"0,4","8":"NA","9":"20,50","10":"NA","11":"86,000"},{"1":"Common porpoise","2":"Phocoena","3":"carni","4":"Cetacea","5":"vu","6":"5,6","7":"NA","8":"NA","9":"18,45","10":"NA","11":"53,180"},{"1":"Potoroo","2":"Potorous","3":"herbi","4":"Diprotodontia","5":"NA","6":"11,1","7":"1,5","8":"NA","9":"12,90","10":"NA","11":"1,100"},{"1":"Giant armadillo","2":"Priodontes","3":"insecti","4":"Cingulata","5":"en","6":"18,1","7":"6,1","8":"NA","9":"5,90","10":"0,08100","11":"60,000"},{"1":"Rock hyrax","2":"Procavia","3":"NA","4":"Hyracoidea","5":"lc","6":"5,4","7":"0,5","8":"NA","9":"18,60","10":"0,02100","11":"3,600"},{"1":"Laboratory rat","2":"Rattus","3":"herbi","4":"Rodentia","5":"lc","6":"13,0","7":"2,4","8":"0,1833333","9":"11,00","10":"0,00190","11":"0,320"},{"1":"African striped mouse","2":"Rhabdomys","3":"omni","4":"Rodentia","5":"NA","6":"8,7","7":"NA","8":"NA","9":"15,30","10":"NA","11":"0,044"},{"1":"Squirrel monkey","2":"Saimiri","3":"omni","4":"Primates","5":"NA","6":"9,6","7":"1,4","8":"NA","9":"14,40","10":"0,02000","11":"0,743"},{"1":"Eastern american mole","2":"Scalopus","3":"insecti","4":"Soricomorpha","5":"lc","6":"8,4","7":"2,1","8":"0,1666667","9":"15,60","10":"0,00120","11":"0,075"},{"1":"Cotton rat","2":"Sigmodon","3":"herbi","4":"Rodentia","5":"NA","6":"11,3","7":"1,1","8":"0,1500000","9":"12,70","10":"0,00118","11":"0,148"},{"1":"Mole rat","2":"Spalax","3":"NA","4":"Rodentia","5":"NA","6":"10,6","7":"2,4","8":"NA","9":"13,40","10":"0,00300","11":"0,122"},{"1":"Arctic ground squirrel","2":"Spermophilus","3":"herbi","4":"Rodentia","5":"lc","6":"16,6","7":"NA","8":"NA","9":"7,40","10":"0,00570","11":"0,920"},{"1":"Thirteen-lined ground squirrel","2":"Spermophilus","3":"herbi","4":"Rodentia","5":"lc","6":"13,8","7":"3,4","8":"0,2166667","9":"10,20","10":"0,00400","11":"0,101"},{"1":"Golden-mantled ground squirrel","2":"Spermophilus","3":"herbi","4":"Rodentia","5":"lc","6":"15,9","7":"3,0","8":"NA","9":"8,10","10":"NA","11":"0,205"},{"1":"Musk shrew","2":"Suncus","3":"NA","4":"Soricomorpha","5":"NA","6":"12,8","7":"2,0","8":"0,1833333","9":"11,20","10":"0,00033","11":"0,048"},{"1":"Pig","2":"Sus","3":"omni","4":"Artiodactyla","5":"domesticated","6":"9,1","7":"2,4","8":"0,5000000","9":"14,90","10":"0,18000","11":"86,250"},{"1":"Short-nosed echidna","2":"Tachyglossus","3":"insecti","4":"Monotremata","5":"NA","6":"8,6","7":"NA","8":"NA","9":"15,40","10":"0,02500","11":"4,500"},{"1":"Eastern american chipmunk","2":"Tamias","3":"herbi","4":"Rodentia","5":"NA","6":"15,8","7":"NA","8":"NA","9":"8,20","10":"NA","11":"0,112"},{"1":"Brazilian tapir","2":"Tapirus","3":"herbi","4":"Perissodactyla","5":"vu","6":"4,4","7":"1,0","8":"0,9000000","9":"19,60","10":"0,16900","11":"207,501"},{"1":"Tenrec","2":"Tenrec","3":"omni","4":"Afrosoricida","5":"NA","6":"15,6","7":"2,3","8":"NA","9":"8,40","10":"0,00260","11":"0,900"},{"1":"Tree shrew","2":"Tupaia","3":"omni","4":"Scandentia","5":"NA","6":"8,9","7":"2,6","8":"0,2333333","9":"15,10","10":"0,00250","11":"0,104"},{"1":"Bottle-nosed dolphin","2":"Tursiops","3":"carni","4":"Cetacea","5":"NA","6":"5,2","7":"NA","8":"NA","9":"18,80","10":"NA","11":"173,330"},{"1":"Genet","2":"Genetta","3":"carni","4":"Carnivora","5":"NA","6":"6,3","7":"1,3","8":"NA","9":"17,70","10":"0,01750","11":"2,000"},{"1":"Arctic fox","2":"Vulpes","3":"carni","4":"Carnivora","5":"NA","6":"12,5","7":"NA","8":"NA","9":"11,50","10":"0,04450","11":"3,380"},{"1":"Red fox","2":"Vulpes","3":"carni","4":"Carnivora","5":"NA","6":"9,8","7":"2,4","8":"0,3500000","9":"14,20","10":"0,05040","11":"4,230"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li>
<p>Vamos examinar a estrutura — usando R base:</p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code>## tibble [83 × 11] (S3: tbl_df/tbl/data.frame)
##  $ name        : chr [1:83] "Cheetah" "Owl monkey" "Mountain beaver" ...
##  $ genus       : chr [1:83] "Acinonyx" "Aotus" "Aplodontia" ...
##  $ vore        : chr [1:83] "carni" "omni" "herbi" ...
##  $ order       : chr [1:83] "Carnivora" "Primates" "Rodentia" ...
##  $ conservation: chr [1:83] "lc" NA "nt" ...
##  $ sleep_total : num [1:83] 12,1 17 14,4 14,9 4 14,4 8,7 7 ...
##  $ sleep_rem   : num [1:83] NA 1,8 2,4 2,3 0,7 2,2 1,4 NA ...
##  $ sleep_cycle : num [1:83] NA NA NA 0,133 ...
##  $ awake       : num [1:83] 11,9 7 9,6 9,1 20 9,6 15,3 17 ...
##  $ brainwt     : num [1:83] NA 0,0155 NA 0,00029 0,423 NA NA NA ...
##  $ bodywt      : num [1:83] 50 0,48 1,35 0,019 ...</code></pre>
</li>
<li>
<p>Podemos usar <code>glimpse</code>, uma função do <code>tidyverse</code>:</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Rows: 83
## Columns: 11
## $ name         &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tai…
## $ genus        &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus…
## $ vore         &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", N…
## $ order        &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodac…
## $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domestica…
## $ sleep_total  &lt;dbl&gt; 12,1, 17,0, 14,4, 14,9, 4,0, 14,4, 8,7, 7,0, 10,1, 3,0, 5,3, 9…
## $ sleep_rem    &lt;dbl&gt; NA, 1,8, 2,4, 2,3, 0,7, 2,2, 1,4, NA, 2,9, NA, 0,6, 0,8, 0,7, …
## $ sleep_cycle  &lt;dbl&gt; NA, NA, NA, 0,1333333, 0,6666667, 0,7666667, 0,3833333, NA, 0,…
## $ awake        &lt;dbl&gt; 11,9, 7,0, 9,6, 9,1, 20,0, 9,6, 15,3, 17,0, 13,9, 21,0, 18,7, …
## $ brainwt      &lt;dbl&gt; NA, 0,01550, NA, 0,00029, 0,42300, NA, NA, NA, 0,07000, 0,0982…
## $ bodywt       &lt;dbl&gt; 50,000, 0,480, 1,350, 0,019, 600,000, 3,850, 20,490, 0,045, 14…</code></pre>
</li>
<li>
<p>Para examinar só as primeiras linhas do <em>data frame</em>:</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[2],"type":["chr"],"align":["left"]},{"label":["vore"],"name":[3],"type":["chr"],"align":["left"]},{"label":["order"],"name":[4],"type":["chr"],"align":["left"]},{"label":["conservation"],"name":[5],"type":["chr"],"align":["left"]},{"label":["sleep_total"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["sleep_rem"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["sleep_cycle"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["awake"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["brainwt"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["bodywt"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"Cheetah","2":"Acinonyx","3":"carni","4":"Carnivora","5":"lc","6":"12,1","7":"NA","8":"NA","9":"11,9","10":"NA","11":"50,000"},{"1":"Owl monkey","2":"Aotus","3":"omni","4":"Primates","5":"NA","6":"17,0","7":"1,8","8":"NA","9":"7,0","10":"0,01550","11":"0,480"},{"1":"Mountain beaver","2":"Aplodontia","3":"herbi","4":"Rodentia","5":"nt","6":"14,4","7":"2,4","8":"NA","9":"9,6","10":"NA","11":"1,350"},{"1":"Greater short-tailed shrew","2":"Blarina","3":"omni","4":"Soricomorpha","5":"lc","6":"14,9","7":"2,3","8":"0,1333333","9":"9,1","10":"0,00029","11":"0,019"},{"1":"Cow","2":"Bos","3":"herbi","4":"Artiodactyla","5":"domesticated","6":"4,0","7":"0,7","8":"0,6666667","9":"20,0","10":"0,42300","11":"600,000"},{"1":"Three-toed sloth","2":"Bradypus","3":"herbi","4":"Pilosa","5":"NA","6":"14,4","7":"2,2","8":"0,7666667","9":"9,6","10":"NA","11":"3,850"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li>
<p>Para examinar o <em>data frame</em> interativamente:</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/view.html">view</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p>Podemos produzir um sumário dos dados usando o pacote <em>summarytools</em> (que já foi carregado neste documento):</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/summarytools/man/dfSummary.html">dfSummary</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table style="width:97%;" class="table table-sm">
<colgroup>
<col width="14%">
<col width="30%">
<col width="20%">
<col width="21%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th>Variável</th>
<th>Estatísticas / Valores</th>
<th>Freqs (% de Válidos)</th>
<th>Grafo</th>
<th>Faltante</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name<br>
[character]</td>
<td>1. African elephant<br>
2. African giant pouched rat<br>
3. African striped mouse<br>
4. Arctic fox<br>
5. Arctic ground squirrel<br>
6. Asian elephant<br>
7. Baboon<br>
8. Big brown bat<br>
9. Bottle-nosed dolphin<br>
10. Brazilian tapir<br>
[ 73 outros ]</td>
<td>1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
73 (88,0%)</td>
<td><img src="dfimg/ds0023.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>genus<br>
[character]</td>
<td>1. Panthera<br>
2. Spermophilus<br>
3. Equus<br>
4. Vulpes<br>
5. Acinonyx<br>
6. Aotus<br>
7. Aplodontia<br>
8. Blarina<br>
9. Bos<br>
10. Bradypus<br>
[ 67 outros ]</td>
<td>3 ( 3,6%)<br>
3 ( 3,6%)<br>
2 ( 2,4%)<br>
2 ( 2,4%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
67 (80,7%)</td>
<td><img src="dfimg/ds0024.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="odd">
<td>vore<br>
[character]</td>
<td>1. carni<br>
2. herbi<br>
3. insecti<br>
4. omni</td>
<td>19 (25,0%)<br>
32 (42,1%)<br>
5 ( 6,6%)<br>
20 (26,3%)</td>
<td><img src="dfimg/ds0025.png"></td>
<td>7<br>
(8,4%)</td>
</tr>
<tr class="even">
<td>order<br>
[character]</td>
<td>1. Rodentia<br>
2. Carnivora<br>
3. Primates<br>
4. Artiodactyla<br>
5. Soricomorpha<br>
6. Cetacea<br>
7. Hyracoidea<br>
8. Perissodactyla<br>
9. Chiroptera<br>
10. Cingulata<br>
[ 9 outros ]</td>
<td>22 (26,5%)<br>
12 (14,5%)<br>
12 (14,5%)<br>
6 ( 7,2%)<br>
5 ( 6,0%)<br>
3 ( 3,6%)<br>
3 ( 3,6%)<br>
3 ( 3,6%)<br>
2 ( 2,4%)<br>
2 ( 2,4%)<br>
13 (15,7%)</td>
<td><img src="dfimg/ds0026.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="odd">
<td>conservation<br>
[character]</td>
<td>1. cd<br>
2. domesticated<br>
3. en<br>
4. lc<br>
5. nt<br>
6. vu</td>
<td>2 ( 3,7%)<br>
10 (18,5%)<br>
4 ( 7,4%)<br>
27 (50,0%)<br>
4 ( 7,4%)<br>
7 (13,0%)</td>
<td><img src="dfimg/ds0027.png"></td>
<td>29<br>
(34,9%)</td>
</tr>
<tr class="even">
<td>sleep_total<br>
[numeric]</td>
<td>Média (dp) : 10,4 (4,5)<br>
mín &lt; mediana &lt; máx:<br>
1,9 &lt; 10,1 &lt; 19,9<br>
IQE (CV) : 5,9 (0,4)</td>
<td>65 valores distintos</td>
<td><img src="dfimg/ds0028.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="odd">
<td>sleep_rem<br>
[numeric]</td>
<td>Média (dp) : 1,9 (1,3)<br>
mín &lt; mediana &lt; máx:<br>
0,1 &lt; 1,5 &lt; 6,6<br>
IQE (CV) : 1,5 (0,7)</td>
<td>32 valores distintos</td>
<td><img src="dfimg/ds0029.png"></td>
<td>22<br>
(26,5%)</td>
</tr>
<tr class="even">
<td>sleep_cycle<br>
[numeric]</td>
<td>Média (dp) : 0,4 (0,4)<br>
mín &lt; mediana &lt; máx:<br>
0,1 &lt; 0,3 &lt; 1,5<br>
IQE (CV) : 0,4 (0,8)</td>
<td>22 valores distintos</td>
<td><img src="dfimg/ds0030.png"></td>
<td>51<br>
(61,4%)</td>
</tr>
<tr class="odd">
<td>awake<br>
[numeric]</td>
<td>Média (dp) : 13,6 (4,5)<br>
mín &lt; mediana &lt; máx:<br>
4,1 &lt; 13,9 &lt; 22,1<br>
IQE (CV) : 5,9 (0,3)</td>
<td>65 valores distintos</td>
<td><img src="dfimg/ds0031.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>brainwt<br>
[numeric]</td>
<td>Média (dp) : 0,3 (1)<br>
mín &lt; mediana &lt; máx:<br>
0 &lt; 0 &lt; 5,7<br>
IQE (CV) : 0,1 (3,5)</td>
<td>53 valores distintos</td>
<td><img src="dfimg/ds0032.png"></td>
<td>27<br>
(32,5%)</td>
</tr>
<tr class="odd">
<td>bodywt<br>
[numeric]</td>
<td>Média (dp) : 166,1 (786,8)<br>
mín &lt; mediana &lt; máx:<br>
0 &lt; 1,7 &lt; 6654<br>
IQE (CV) : 41,6 (4,7)</td>
<td>82 valores distintos</td>
<td><img src="dfimg/ds0033.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Vemos que há muitos <code>NA</code> em diversas variáveis. Para nossos exemplos simples de visualização, vamos usar as colunas</p>
<ul>
<li><code>name</code></li>
<li><code>genus</code></li>
<li><code>order</code></li>
<li><code>sleep_total</code></li>
<li><code>awake</code></li>
<li><code>bodywt</code></li>
<li><code>brainwt</code></li>
</ul>
</li>
<li>
<p>Mas… a coluna que mostra a dieta (<code>vore</code>) tem só 7 <code>NA</code>. Quais são?</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">vore</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"Vesper mouse"},{"1":"Desert hedgehog"},{"1":"Deer mouse"},{"1":"Phalanger"},{"1":"Rock hyrax"},{"1":"Mole rat"},{"1":"Musk shrew"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li><p>OK. Vamos manter a coluna <code>vore</code> também, apesar dos <code>NA</code>. Quando formos usar esta variável, tomaremos cuidado.</p></li>
<li>
<p>Também… a coluna <code>bodywt</code> tem 0 como valor mínimo. Como assim?</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">bodywt</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">bodywt</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["bodywt"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Lesser short-tailed shrew","2":"0,005"},{"1":"Little brown bat","2":"0,010"},{"1":"Greater short-tailed shrew","2":"0,019"},{"1":"Deer mouse","2":"0,021"},{"1":"House mouse","2":"0,022"},{"1":"Big brown bat","2":"0,023"},{"1":"Northern grasshopper mouse","2":"0,028"},{"1":"Vole","2":"0,035"},{"1":"African striped mouse","2":"0,044"},{"1":"Vesper mouse","2":"0,045"},{"1":"Musk shrew","2":"0,048"},{"1":"Mongolian gerbil","2":"0,053"},{"1":"Star-nosed mole","2":"0,060"},{"1":"Western american chipmunk","2":"0,071"},{"1":"Eastern american mole","2":"0,075"},{"1":"Thirteen-lined ground squirrel","2":"0,101"},{"1":"Tree shrew","2":"0,104"},{"1":"Eastern american chipmunk","2":"0,112"},{"1":"Golden hamster","2":"0,120"},{"1":"Mole rat","2":"0,122"},{"1":"Cotton rat","2":"0,148"},{"1":"Galago","2":"0,200"},{"1":"Golden-mantled ground squirrel","2":"0,205"},{"1":"Degu","2":"0,210"},{"1":"Round-tailed muskrat","2":"0,266"},{"1":"Laboratory rat","2":"0,320"},{"1":"Thick-tailed opposum","2":"0,370"},{"1":"Chinchilla","2":"0,420"},{"1":"Owl monkey","2":"0,480"},{"1":"Desert hedgehog","2":"0,550"},{"1":"Guinea pig","2":"0,728"},{"1":"Squirrel monkey","2":"0,743"},{"1":"European hedgehog","2":"0,770"},{"1":"Tenrec","2":"0,900"},{"1":"Arctic ground squirrel","2":"0,920"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li><p>Ah, sem problema. A função <code>dfSummary</code> arredondou estes pesos para 0. Os valores de verdade ainda estão na <em>tibble</em>.</p></li>
<li>
<p>Vamos criar uma <em>tibble</em> nova, só com as colunas que nos interessam:</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="va">name</span>, <span class="va">order</span>, <span class="va">genus</span>, <span class="va">vore</span>, <span class="va">bodywt</span>, </span>
<span>    <span class="va">brainwt</span>, <span class="va">awake</span>, <span class="va">sleep_total</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</li>
<li>
<p>Vamos ver o sumário:</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/summarytools/man/dfSummary.html">dfSummary</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table style="width:97%;" class="table table-sm">
<colgroup>
<col width="13%">
<col width="30%">
<col width="21%">
<col width="22%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th>Variável</th>
<th>Estatísticas / Valores</th>
<th>Freqs (% de Válidos)</th>
<th>Grafo</th>
<th>Faltante</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>name<br>
[character]</td>
<td>1. African elephant<br>
2. African giant pouched rat<br>
3. African striped mouse<br>
4. Arctic fox<br>
5. Arctic ground squirrel<br>
6. Asian elephant<br>
7. Baboon<br>
8. Big brown bat<br>
9. Bottle-nosed dolphin<br>
10. Brazilian tapir<br>
[ 73 outros ]</td>
<td>1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
73 (88,0%)</td>
<td><img src="dfimg/ds0034.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>order<br>
[character]</td>
<td>1. Rodentia<br>
2. Carnivora<br>
3. Primates<br>
4. Artiodactyla<br>
5. Soricomorpha<br>
6. Cetacea<br>
7. Hyracoidea<br>
8. Perissodactyla<br>
9. Chiroptera<br>
10. Cingulata<br>
[ 9 outros ]</td>
<td>22 (26,5%)<br>
12 (14,5%)<br>
12 (14,5%)<br>
6 ( 7,2%)<br>
5 ( 6,0%)<br>
3 ( 3,6%)<br>
3 ( 3,6%)<br>
3 ( 3,6%)<br>
2 ( 2,4%)<br>
2 ( 2,4%)<br>
13 (15,7%)</td>
<td><img src="dfimg/ds0035.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="odd">
<td>genus<br>
[character]</td>
<td>1. Panthera<br>
2. Spermophilus<br>
3. Equus<br>
4. Vulpes<br>
5. Acinonyx<br>
6. Aotus<br>
7. Aplodontia<br>
8. Blarina<br>
9. Bos<br>
10. Bradypus<br>
[ 67 outros ]</td>
<td>3 ( 3,6%)<br>
3 ( 3,6%)<br>
2 ( 2,4%)<br>
2 ( 2,4%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
1 ( 1,2%)<br>
67 (80,7%)</td>
<td><img src="dfimg/ds0036.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>vore<br>
[character]</td>
<td>1. carni<br>
2. herbi<br>
3. insecti<br>
4. omni</td>
<td>19 (25,0%)<br>
32 (42,1%)<br>
5 ( 6,6%)<br>
20 (26,3%)</td>
<td><img src="dfimg/ds0037.png"></td>
<td>7<br>
(8,4%)</td>
</tr>
<tr class="odd">
<td>bodywt<br>
[numeric]</td>
<td>Média (dp) : 166,1 (786,8)<br>
mín &lt; mediana &lt; máx:<br>
0 &lt; 1,7 &lt; 6654<br>
IQE (CV) : 41,6 (4,7)</td>
<td>82 valores distintos</td>
<td><img src="dfimg/ds0038.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>brainwt<br>
[numeric]</td>
<td>Média (dp) : 0,3 (1)<br>
mín &lt; mediana &lt; máx:<br>
0 &lt; 0 &lt; 5,7<br>
IQE (CV) : 0,1 (3,5)</td>
<td>53 valores distintos</td>
<td><img src="dfimg/ds0039.png"></td>
<td>27<br>
(32,5%)</td>
</tr>
<tr class="odd">
<td>awake<br>
[numeric]</td>
<td>Média (dp) : 13,6 (4,5)<br>
mín &lt; mediana &lt; máx:<br>
4,1 &lt; 13,9 &lt; 22,1<br>
IQE (CV) : 5,9 (0,3)</td>
<td>65 valores distintos</td>
<td><img src="dfimg/ds0040.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
<tr class="even">
<td>sleep_total<br>
[numeric]</td>
<td>Média (dp) : 10,4 (4,5)<br>
mín &lt; mediana &lt; máx:<br>
1,9 &lt; 10,1 &lt; 19,9<br>
IQE (CV) : 5,9 (0,4)</td>
<td>65 valores distintos</td>
<td><img src="dfimg/ds0041.png"></td>
<td>0<br>
(0,0%)</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div id="gráficos-de-dispersão-scatter-plots" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Gráficos de dispersão (<em>scatter plots</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1ficos-de-dispers%C3%A3o-scatter-plots"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Servem para visualizar a <em>relação</em> entre <span class="hl">duas variáveis quantitativas.</span></p></li>
<li><p><span class="hl">Essa relação <em>não</em> é necessariamente de causa e efeito.</span></p></li>
<li><p>Isto é, a variável do eixo horizontal não determina, necessariamente, os valores da variável do eixo vertical.</p></li>
<li><p>Pense em <span class="hl">associação</span>, <span class="hl">correlação</span>, não em causalidade.</p></li>
<li><p>Troque as variáveis de eixo, se ajudar a deixar isto claro.</p></li>
</ul>
<div id="horas-de-sono-e-peso-corporal" class="section level3" number="4.4.1">
<h3>
<span class="header-section-number">4.4.1</span> Horas de sono e peso corporal<a class="anchor" aria-label="anchor" href="#horas-de-sono-e-peso-corporal"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Como as variáveis <code>sleep_total</code> e <code>bodywt</code> estão relacionadas?</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-1-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>O que houve? Cadê os pontos?</p></li>
<li>
<p>O problema foi que só especificamos o mapeamento estético (com <code>aes</code>, que são as iniciais de <em>aesthetics</em>). <span class="hl">Faltou a geometria.</span></p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-2-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>Que horror.</p></li>
<li><p>A única coisa que percebemos aqui é que os mamíferos muito pesados dormem menos de <span class="math inline">\(5\)</span> horas por noite.</p></li>
<li><p>Estes animais muito pesados estão estragando a escala do eixo <span class="math inline">\(x\)</span>.</p></li>
<li>
<p>Que animais são estes?</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&gt;</span> <span class="fl">250</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">bodywt</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">bodywt</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["bodywt"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Horse","2":"521,000"},{"1":"Cow","2":"600,000"},{"1":"Pilot whale","2":"800,000"},{"1":"Giraffe","2":"899,995"},{"1":"Asian elephant","2":"2547,000"},{"1":"African elephant","2":"6654,000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li><p>Além disso, há muitos pontos sobrepostos. Em bom português, temos um problema de <em>overplotting</em>.</p></li>
<li><p>Existem diversas maneiras de lidar com isso.</p></li>
<li>
<p>A primeira delas é <span class="hl">alterando a opacidade dos pontos</span>. Isto é um ajuste na geometria apenas, pois a opacidade, aqui, não representa informação nenhuma.</p>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-alfa-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Outra maneira é usar <code>geom_jitter</code> em vez de <code>geom_point</code>. “<em>Jitter</em>” significa “tremer”. As posições dos pontos são ligeiramente perturbadas, para evitar colisões. Perdemos precisão, mas a visualização fica melhor.</p>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-jitter-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Vamos mudar os limites do gráfico para nos concentrarmos nos animais menos pesados. Observe que <span class="hl">isto é um ajuste na escala</span>.</p>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">200</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-3-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>Nestes limites, a relação entre horas de sono e peso não é mais tão pronunciada.</p></li>
</ul>
</div>
<div id="horas-de-sono-e-peso-corporal-para-animais-pequenos" class="section level3" number="4.4.2">
<h3>
<span class="header-section-number">4.4.2</span> Horas de sono e peso corporal para animais pequenos<a class="anchor" aria-label="anchor" href="#horas-de-sono-e-peso-corporal-para-animais-pequenos"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Vamos restringir o gráfico a animais com no máximo <span class="math inline">\(5\)</span>kg.</p>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">limite</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></code></pre></div>
</li>
<li>
<p>Em vez de mudar a escala do gráfico, vamos filtrar as linhas do <em>data frame</em>:</p>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/sono-peso-plot-pequenos-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
</ul>
</div>
<div id="incluindo-a-dieta" class="section level3" number="4.4.3">
<h3>
<span class="header-section-number">4.4.3</span> Incluindo a dieta<a class="anchor" aria-label="anchor" href="#incluindo-a-dieta"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Com a estética <code>color</code>. Observe como a legenda aparece automaticamente.</p>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span>, color <span class="op">=</span> <span class="va">vore</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/plot-sono-peso-dieta-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
</ul>
</div>
<div id="a-estética-pode-ser-especificada-na-geom" class="section level3" number="4.4.4">
<h3>
<span class="header-section-number">4.4.4</span> A estética pode ser especificada na <code>geom</code><a class="anchor" aria-label="anchor" href="#a-est%C3%A9tica-pode-ser-especificada-na-geom"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Compare com o código anterior.</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span>, color <span class="op">=</span> <span class="va">vore</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/plot-sono-peso-dieta-geom-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>Fazendo deste modo, a estética só vale para uma geometria. Se você acrescentar outras geometrias (linhas, por exemplo), a estética não valerá para elas.</p></li>
</ul>
</div>
<div id="aparência-fixa-ou-dependendo-de-variável" class="section level3" number="4.4.5">
<h3>
<span class="header-section-number">4.4.5</span> Aparência fixa ou dependendo de variável?<a class="anchor" aria-label="anchor" href="#apar%C3%AAncia-fixa-ou-dependendo-de-vari%C3%A1vel"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>Se for fixa, não é estética. Não representa informação.</p></li>
<li><p>Se depender de variável, é estética. Representa informação.</p></li>
<li>
<p>Compare o último <em>chunk</em> acima com:</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'blue'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/plot-sono-peso-cor-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Se for uma estética, precisa estar <span class="hl">associada a uma variável</span>, não a um valor fixo. Um erro comum seria fazer:</p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">sleep_total</span>, color <span class="op">=</span> <span class="st">'blue'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/plot-sono-peso-cor-erro-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
</ul>
</div>
<div id="uma-correlação-mais-clara" class="section level3" number="4.4.6">
<h3>
<span class="header-section-number">4.4.6</span> Uma correlação mais clara<a class="anchor" aria-label="anchor" href="#uma-correla%C3%A7%C3%A3o-mais-clara"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Peso cerebral versus peso corporal:</p>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">brainwt</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Warning: Removed 27 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/cerebro-corpo-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>A mensagem de aviso (<em>warning</em>) diz que há <span class="math inline">\(27\)</span> valores faltantes (<code>NA</code>) em <code>bodywt</code> ou <code>brainwt</code>. De fato:</p>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">bodywt</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["n"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">brainwt</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["n"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"27"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
<li>
<p>Vamos restringir aos animais mais leves e mudar a opacidade:</p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bodywt</span>, y <span class="op">=</span> <span class="va">brainwt</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Warning: Removed 18 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/cerebro-corpo-2-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Vamos incluir horas de sono e dieta. Observe as estéticas usadas.</p>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">bodywt</span>, </span>
<span>      y <span class="op">=</span> <span class="va">brainwt</span>,</span>
<span>      size <span class="op">=</span> <span class="va">sleep_total</span>,</span>
<span>      color <span class="op">=</span> <span class="va">vore</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Warning: Removed 18 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/cerebro-corpo-3-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Vamos mudar a escala dos tamanhos e incluir rótulos:</p>
<div class="sourceCode" id="cb289"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grafico</span> <span class="op">&lt;-</span> <span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">bodywt</span> <span class="op">&lt;</span> <span class="va">limite</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">bodywt</span>, </span>
<span>      y <span class="op">=</span> <span class="va">brainwt</span>,</span>
<span>      size <span class="op">=</span> <span class="va">sleep_total</span>,</span>
<span>      color <span class="op">=</span> <span class="va">vore</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html">scale_size</a></span><span class="op">(</span></span>
<span>      breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="st">'Peso do cérebro versus peso corporal'</span>,</span>
<span>      subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>        <span class="st">'para mamíferos com menos de '</span>, </span>
<span>        <span class="va">limite</span>, </span>
<span>        <span class="st">' kg'</span></span>
<span>      <span class="op">)</span>,</span>
<span>      caption <span class="op">=</span> <span class="st">'Fonte: dataset `msleep`'</span>,</span>
<span>      x <span class="op">=</span> <span class="st">'Peso corporal (kg)'</span>,</span>
<span>      y <span class="op">=</span> <span class="st">'Peso do\n cérebro (kg)'</span>,</span>
<span>      color <span class="op">=</span> <span class="st">'Dieta'</span>,</span>
<span>      size <span class="op">=</span> <span class="st">'Horas\nde sono'</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">grafico</span></span></code></pre></div>
<pre><code>## Warning: Removed 18 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/cerebro-corpo-4-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Vamos mudar as cores usadas para a dieta, usando uma escala diferente.</p>
<div class="sourceCode" id="cb291"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grafico2</span> <span class="op">&lt;-</span> <span class="va">grafico</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_color_discrete</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">'RdBu'</span>,</span>
<span>    na.value <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>    type <span class="op">=</span> <span class="va">scale_color_brewer</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">grafico2</span></span></code></pre></div>
<pre><code>## Warning: Removed 18 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-174-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>Observe como usamos o gráfico já salvo na variável <code>grafico</code> e simplesmente acrescentamos a nova escala. Este tipo de “montagem” de gráficos <code>ggplot2</code> é bem conveniente, para evitar repetição de código.</p></li>
<li>
<p>Um último ajuste na aparência: os pontos na legenda “Dieta” estão pequenos demais. Quase não identificamos as cores deles.</p>
<p>Vamos usar a função <code>guides</code> para modificar (<em>override</em>) a estética <code>color</code> — <span class="hl">apenas na legenda, não nos pontos mostrados no gráfico, cujos tamanhos representam o número de horas de sono</span> — tornando o tamanho maior. <a href="https://ggplot2-book.org/scale-colour.html#guide_legend">Leia mais sobre <code>override.aes</code> neste <em>link</em> (em inglês)</a>.</p>
<div class="sourceCode" id="cb293"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grafico3</span> <span class="op">&lt;-</span> <span class="va">grafico2</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">guide_legend</a></span><span class="op">(</span>override.aes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">grafico3</span></span></code></pre></div>
<pre><code>## Warning: Removed 18 rows containing missing values (`geom_point()`).</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-175-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Agora podemos finalmente comentar sobre a informação que o gráfico mostra sobre os dados:</p>
<ul>
<li><p>De fato, existe uma correlação entre peso cerebral e peso corporal: quanto maior o peso corporal, maior o peso cerebral. Nada surprenndente.</p></li>
<li>
<p><span id="grafico4"></span> Podemos fazer o <code>ggplot2</code> traçar uma reta de regressão com a geometria <code>geom_smooth</code>. Vamos falar mais sobre correlação <a href="#correlacao">em um capítulo futuro</a>.</p>
<div class="sourceCode" id="cb295"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grafico4</span> <span class="op">&lt;-</span> <span class="va">grafico3</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, </span>
<span>    show.legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    method <span class="op">=</span> <span class="st">'lm'</span>, </span>
<span>    se <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    linewidth <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">grafico4</span></span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = 'y ~ x'</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/warning-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li><p>Todos os carnívoros têm peso corporal maior que <span class="math inline">\(1\)</span>kg e peso cerebral maior ou igual a <span class="math inline">\(10\)</span>g.</p></li>
<li><p>Só um carnívoro dorme <span class="math inline">\(8\)</span> horas ou menos. Qual?</p></li>
<li><p>Todos os insetívoros — com exceção de um (qual?) — são muito leves e dormem muito.</p></li>
<li><p>Todos os onívoros têm menos de <span class="math inline">\(2\)</span>kg de peso corporal e <span class="math inline">\(20\)</span>g ou menos de peso cerebral.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="vídeo-2-1" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Vídeo 2<a class="anchor" aria-label="anchor" href="#v%C3%ADdeo-2-1"><i class="fas fa-link"></i></a>
</h2>
<iframe src="https://www.youtube.com/embed/c-LoZ9e8xWc" width="100%" height="400px" data-external="1" class="center" style="width: 80%;">
</iframe>
</div>
<div id="histogramas-e-cia." class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Histogramas e cia.<a class="anchor" aria-label="anchor" href="#histogramas-e-cia."><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>A idéia agora é <span class="hl">agrupar indivíduos em classes,</span> dependendo do valor de uma variável quantitativa.</li>
</ul>
<div id="distribuições-de-frequência" class="section level3" number="4.6.1">
<h3>
<span class="header-section-number">4.6.1</span> Distribuições de frequência<a class="anchor" aria-label="anchor" href="#distribui%C3%A7%C3%B5es-de-frequ%C3%AAncia"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Vamos nos concentrar nas horas de sono.</p>
<div class="sourceCode" id="cb297"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span></span></code></pre></div>
<pre><code>##  [1] 12,1 17,0 14,4 14,9  4,0 14,4  8,7  7,0 10,1  3,0  5,3  9,4 10,0 12,5 10,3  8,3
## [17]  9,1 17,4  5,3 18,0  3,9 19,7  2,9  3,1 10,1 10,9 14,9 12,5  9,8  1,9  2,7  6,2
## [33]  6,3  8,0  9,5  3,3 19,4 10,1 14,2 14,3 12,8 12,5 19,9 14,6 11,0  7,7 14,5  8,4
## [49]  3,8  9,7 15,8 10,4 13,5  9,4 10,3 11,0 11,5 13,7  3,5  5,6 11,1 18,1  5,4 13,0
## [65]  8,7  9,6  8,4 11,3 10,6 16,6 13,8 15,9 12,8  9,1  8,6 15,8  4,4 15,6  8,9  5,2
## [81]  6,3 12,5  9,8</code></pre>
</li>
<li><p>Antes de montar o histograma, vamos construir uma <span class="hl">distribuição de frequência.</span></p></li>
<li>
<p>A <span class="hl">amplitude</span> é a diferença entre o valor máximo e o valor mínimo. A função <code>range</code> não retorna a amplitude, mas sim os valores mínimo e máximo:</p>
<div class="sourceCode" id="cb299"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  1,9 19,9</code></pre>
</li>
<li>
<p>Vamos decidir que cada classe vai ter <span class="math inline">\(2\)</span> horas. A função <code>cut</code> substitui os valores do vetor pelos nomes das classes:</p>
<div class="sourceCode" id="cb301"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span>, right <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] [12,14) [16,18) [14,16) [14,16) [4,6)   [14,16) [8,10)  [6,8)   [10,12) [2,4)  
## [11] [4,6)   [8,10)  [10,12) [12,14) [10,12) [8,10)  [8,10)  [16,18) [4,6)   [18,20)
## [21] [2,4)   [18,20) [2,4)   [2,4)   [10,12) [10,12) [14,16) [12,14) [8,10)  [0,2)  
## [31] [2,4)   [6,8)   [6,8)   [8,10)  [8,10)  [2,4)   [18,20) [10,12) [14,16) [14,16)
## [41] [12,14) [12,14) [18,20) [14,16) [10,12) [6,8)   [14,16) [8,10)  [2,4)   [8,10) 
## [51] [14,16) [10,12) [12,14) [8,10)  [10,12) [10,12) [10,12) [12,14) [2,4)   [4,6)  
## [61] [10,12) [18,20) [4,6)   [12,14) [8,10)  [8,10)  [8,10)  [10,12) [10,12) [16,18)
## [71] [12,14) [14,16) [12,14) [8,10)  [8,10)  [14,16) [4,6)   [14,16) [8,10)  [4,6)  
## [81] [6,8)   [12,14) [8,10) 
## 10 Levels: [0,2) [2,4) [4,6) [6,8) [8,10) [10,12) [12,14) [14,16) ... [18,20)</code></pre>
</li>
<li>
<p>A função <code>table</code> faz a contagem dos elementos de cada classe:</p>
<div class="sourceCode" id="cb303"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span>, right <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span>dnn <span class="op">=</span> <span class="st">'Horas de sono'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Horas.de.sono"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Freq"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"[0,2)","2":"1"},{"1":"[2,4)","2":"8"},{"1":"[4,6)","2":"7"},{"1":"[6,8)","2":"5"},{"1":"[8,10)","2":"17"},{"1":"[10,12)","2":"14"},{"1":"[12,14)","2":"11"},{"1":"[14,16)","2":"12"},{"1":"[16,18)","2":"3"},{"1":"[18,20)","2":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</li>
</ul>
</div>
<div id="histograma" class="section level3" number="4.6.2">
<h3>
<span class="header-section-number">4.6.2</span> Histograma<a class="anchor" aria-label="anchor" href="#histograma"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>Na verdade, o <code>ggplot2</code> já faz esses cálculos para nós.</p></li>
<li>
<p>O <em>default</em> é criar <span class="math inline">\(30\)</span> classes (<em>bins</em>):</p>
<div class="sourceCode" id="cb304"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/hist-sono1-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p><span id="histograma1"></span> Vamos mudar isto passando um vetor de limites das classes (<em>breaks</em>). Vamos acrescentar rótulos também:</p>
<div class="sourceCode" id="cb306"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="st">'Horas de sono de diversos mamíferos'</span>,</span>
<span>      x <span class="op">=</span> <span class="st">'horas de sono'</span>,</span>
<span>      y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      caption <span class="op">=</span> <span class="st">'Fonte: dataset `msleep`'</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/hist-sono2-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Nossas impressões:</p>
<ul>
<li><p>A classe que mais tem elementos é a de <span class="math inline">\(8\)</span> a <span class="math inline">\(10\)</span> horas.</p></li>
<li><p>A distribuição é mais ou menos simétrica.</p></li>
<li>
<p>A distribuição tem forma aproximada de sino: há poucos mamíferos com valores extremos de horas de sono; a maioria está próxima do valor médio:</p>
<div class="sourceCode" id="cb307"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 10,43373</code></pre>
</li>
</ul>
</li>
</ul>
</div>
<div id="polígono-de-frequência" class="section level3" number="4.6.3">
<h3>
<span class="header-section-number">4.6.3</span> Polígono de frequência<a class="anchor" aria-label="anchor" href="#pol%C3%ADgono-de-frequ%C3%AAncia"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>Em vez das barras do histograma, podemos desenhar uma linha ligando seus topos.</p></li>
<li>
<p>O resultado é um <span class="hl">polígono de frequência</span>.</p>
<div class="sourceCode" id="cb309"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pf</span> <span class="op">&lt;-</span> <span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_freqpoly</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pf</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/hist-freqpoly-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Vamos sobrepor o polígono de frequência ao histograma, para deixar claro o que está acontecendo:</p>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pf</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/hist-freqpoly2-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
</ul>
</div>
</div>
<div id="ogiva" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Ogiva<a class="anchor" aria-label="anchor" href="#ogiva"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>A ogiva é um gráfico que mostra a <span class="hl">frequência acumulada</span>: para cada valor <span class="math inline">\(v\)</span> da variável no eixo <span class="math inline">\(x\)</span>, a proporção de indivíduos com valor menor ou igual a <span class="math inline">\(v\)</span>.</p></li>
<li><p>A geometria <code>geom_step</code> gera o gráfico de uma <span class="hl">função degrau</span>.</p></li>
<li>
<p>Cada geometria está ligada a uma <span class="hl"><code>stat</code></span>, um algoritmo para computar o que vai ser desenhado. Aqui, passamos para a geometria <span class="hl">a função <code>ecdf</code> (<em>empirical cumulative distribution function</em>), do pacote <code>stats</code>, que calcula as frequências acumuladas.</span></p>
<div class="sourceCode" id="cb311"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sleep_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_step</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">'ecdf'</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">.1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/ogiva-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Com a ogiva, podemos obter informações difíceis de visualizar no histograma. Por exemplo:</p>
<ul>
<li><p>Cerca de <span class="math inline">\(20\%\)</span> dos mamíferos têm menos de <span class="math inline">\(6\)</span> horas de sono.</p></li>
<li><p>Cerca de metade dos mamíferos têm menos de <span class="math inline">\(10\)</span> horas de sono.</p></li>
<li><p>Cerca de <span class="math inline">\(10\%\)</span> dos mamíferos têm mais de <span class="math inline">\(16\)</span> horas de sono.</p></li>
</ul>
</li>
</ul>
</div>
<div id="ramos-e-folhas" class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> Ramos e folhas<a class="anchor" aria-label="anchor" href="#ramos-e-folhas"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>No início dos anos <span class="math inline">\(1900\)</span>, quando estatísticas eram feitas à mão, Arthur Bowley criou os <span class="hl">diagramas de ramos e folhas</span>.</p></li>
<li><p>Um diagrama de ramos e folhas é, basicamente, uma listagem de todos os valores de uma variável, agrupados de maneira que todos os valores de uma classe (i.e., de uma linha) têm os algarismos iniciais dentro de um intervalo.</p></li>
<li>
<p>Para as horas de sono dos mamíferos:</p>
<div class="sourceCode" id="cb312"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sono</span><span class="op">$</span><span class="va">sleep_total</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/stem.html">stem</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 
##   The decimal point is at the |
## 
##    0 | 9
##    2 | 79013589
##    4 | 0423346
##    6 | 23307
##    8 | 03446779114456788
##   10 | 01113346900135
##   12 | 15555880578
##   14 | 234456996889
##   16 | 604
##   18 | 01479</code></pre>
</li>
<li><p>A primeira linha representa um indivíduo com <span class="math inline">\(0{,}9\)</span> horas de sono.</p></li>
<li>
<p>A penúltima linha representa <span class="math inline">\(3\)</span> valores:</p>
<ul>
<li><span class="math inline">\(16{,}6\)</span></li>
<li><span class="math inline">\(17{,}0\)</span></li>
<li><span class="math inline">\(17{,}4\)</span></li>
</ul>
</li>
</ul>
</div>
<div id="personalização-do-tema" class="section level2" number="4.9">
<h2>
<span class="header-section-number">4.9</span> Personalização do tema<a class="anchor" aria-label="anchor" href="#personaliza%C3%A7%C3%A3o-do-tema"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>O <code>ggplot2</code> tem um tema <em>default</em>, chamado <code>theme_gray</code>, que gera <a href="viz.html#grafico4">o <em>scatterplot</em> de um exemplo anterior</a> deste capítulo do seguinte modo:</p>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-178-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Para este material, escolhi o tema <code>theme_linedraw</code>, que usa linhas pretas sobre fundo branco:</p>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-179-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Para deixar os gráficos mais leves e facilitar a leitura, fiz as seguintes alterações no tema:</p>
<ul>
<li><p>Mudei o tamanho do texto dos rótulos.</p></li>
<li><p>Fiz o rótulo do eixo <span class="math inline">\(y\)</span> aparecer na horizontal; embora isto ocupe um pouco mais de espaço, evita que o leitor tenha que girar a cabeça para ler o rótulo.</p></li>
<li><p>Eliminei as linhas dos eixos, para o gráfico ficar mais leve.</p></li>
<li><p>Eliminei a moldura da área de dados, para o gráfico ficar mais leve.</p></li>
<li><p>Eliminei a grade secundária, para o gráfico ficar mais leve.</p></li>
</ul>
</li>
<li>
<p>O resultado é</p>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-180-1.png" width="100%" style="display: block; margin: auto;"></div>
</li>
<li>
<p>Os meus comandos para alterar o tema são</p>
<div class="sourceCode" id="cb314"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Tamanho do texto depende do formato de saída (html ou pdf):</span></span>
<span><span class="va">plot_text_size</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/output_type.html">is_html_output</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">12</span>, <span class="fl">13</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Tema mais leve:</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_linedraw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>      <span class="co"># Tamanho do texto</span></span>
<span>      text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">plot_text_size</span><span class="op">)</span>,</span>
<span>      <span class="co"># Eixo y</span></span>
<span>      axis.title.y.left <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>        <span class="co"># Nunca girar o rótulo do eixo y</span></span>
<span>        angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>        <span class="co"># Separar o rótulo do eixo um pouco</span></span>
<span>        margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        <span class="co"># Posicionar verticalmente no meio</span></span>
<span>        vjust <span class="op">=</span> <span class="fl">.5</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="co"># Eixo y secundário (à direita), quando presente</span></span>
<span>      axis.title.y.right <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>        <span class="co"># Nunca girar o rótulo do eixo y</span></span>
<span>        angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>        <span class="co"># Separar o rótulo do eixo um pouco</span></span>
<span>        margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>l <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        <span class="co"># Posicionar verticalmente no meio</span></span>
<span>        vjust <span class="op">=</span> <span class="fl">.5</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="co"># Não colocar marcas no eixo y secundário</span></span>
<span>      axis.ticks.y.right <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      <span class="co"># Separar o eixo x do rótulo um pouco mais</span></span>
<span>      axis.title.x.bottom <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>        margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>t <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="co"># Eliminar linhas dos eixos</span></span>
<span>      axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      <span class="co"># Eliminar a moldura da área de dados</span></span>
<span>      panel.border <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      <span class="co"># Eliminar a grade secundária</span></span>
<span>      panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
</ul>
</div>
<div id="exercícios-5" class="section level2" number="4.10">
<h2>
<span class="header-section-number">4.10</span> Exercícios<a class="anchor" aria-label="anchor" href="#exerc%C3%ADcios-5"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdimportant">
<p>Não se esqueça de incluir títulos nos gráficos e rótulos nos eixos.</p>
</div>
<div id="peso-cerebral-e-peso-corporal" class="section level3" number="4.10.1">
<h3>
<span class="header-section-number">4.10.1</span> Peso cerebral e peso corporal<a class="anchor" aria-label="anchor" href="#peso-cerebral-e-peso-corporal"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Observe os <a href="viz.html#grafico4">comandos que geraram o gráfico <code>grafico4</code></a>.</p></li>
<li><p>O que acontece se você retirar <code>aes(group = 1)</code> da chamada a <code>geom_smooth</code>? Explique.</p></li>
<li><p>O que acontece se você mudar <code>show.legend = FALSE</code> para <code>show.legend = TRUE</code> na chamada a <code>geom_smooth</code>? Explique.</p></li>
<li><p>O que acontece se você mudar <code>se = FALSE</code> para <code>se = TRUE</code> na chamada a <code>geom_smooth</code>? Explique.</p></li>
<li><p>Acrescente ao gráfico a camada <code>facet_wrap(~vore)</code>. O que acontece?</p></li>
<li><p>Examine o <em>data frame</em> <code>sono</code> e identifique o único insetívoro com mais de <span class="math inline">\(4\)</span>kg.</p></li>
<li><p>Instale o pacote <code>gg_repel</code> e acrescente ao gráfico <code>grafico4</code> (não facetado) a geometria <code>geom_label_repel</code> (consulte a ajuda) para rotular o mamífero insetívoro identificado no item anterior com o seu nome, <span class="hl">sem cobrir outros pontos do gráfico</span>. Cuidado para não alterar a legenda que já existe.</p></li>
</ol>
</div>
<div id="peso-cerebral-e-horas-de-sono" class="section level3" number="4.10.2">
<h3>
<span class="header-section-number">4.10.2</span> Peso cerebral e horas de sono<a class="anchor" aria-label="anchor" href="#peso-cerebral-e-horas-de-sono"><i class="fas fa-link"></i></a>
</h3>
<div class="rmdbox">
<p>Use o <em>data frame</em> <code>sono</code> definido como</p>
<div class="sourceCode" id="cb315"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sono</span> <span class="op">&lt;-</span> <span class="va">msleep</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="va">name</span>, <span class="va">order</span>, <span class="va">genus</span>, <span class="va">vore</span>, <span class="va">bodywt</span>, </span>
<span>    <span class="va">brainwt</span>, <span class="va">awake</span>, <span class="va">sleep_total</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<ol style="list-style-type: decimal">
<li><p>Construa um histograma da variável <code>brainwt</code>. Escolha o número de classes que você achar melhor. O que acontece com os valores <code>NA</code>?</p></li>
<li><p><a href="http://sillasgonzaga.com/material/curso_visualizacao/ggplot2-parte-ii.html#customizando-escalas">Descubra que função da forma <code>scale_x_...</code> usar</a> para fazer com que o eixo <span class="math inline">\(x\)</span> tenha uma escala logarítmica. Gere um novo histograma.</p></li>
<li><p>Qual dos dois histogramas é melhor para responder a pergunta “<em>Qual a faixa de peso cerebral que tem mais animais?</em>” de forma satisfatória?</p></li>
<li><p>Construa um <em>scatter plot</em> de horas de sono versus peso do cérebro. Você percebe alguma correlação entre estas variáveis? Se precisar, concentre-se em um subconjunto dos dados.</p></li>
<li><p>Usando <code>geom_smooth</code> (<a href="https://cdr.ibpad.com.br/ggplot2.html#objetos-geom%C3%A9tricos-e-tipos-de-gr%C3%A1ficos">leia a respeito</a>), sobreponha uma reta de regressão ao gráfico de dispersão, usando o método <code>lm</code> e sem o erro padrão (i.e., com <code>se = FALSE</code>). O que você observa? Discuta.</p></li>
</ol>
</div>
<div id="igualdade-de-gênero-entre-furacões" class="section level3" number="4.10.3">
<h3>
<span class="header-section-number">4.10.3</span> Igualdade de gênero entre furacões?<a class="anchor" aria-label="anchor" href="#igualdade-de-g%C3%AAnero-entre-furac%C3%B5es"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://www.pnas.org/content/111/24/8782">Este artigo</a> tenta achar uma relação entre o gênero do nome de um furacão e a quantidade de vítimas fatais provocadas por ele.</p>
<div class="rmdbox">
<p>Os dados estão no pacote <code>DAAG</code>, que deve ser instalado:</p>
<div class="sourceCode" id="cb316"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://gitlab.com/daagur">DAAG</a></span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"DAAG"</span><span class="op">)</span></span></code></pre></div>
<p>Vamos usar apenas algumas das variáveis, com nomes em português.</p>
<div class="sourceCode" id="cb317"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">hurricNamed</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html">transmute</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">Year</span>, <span class="va">Name</span>, sep <span class="op">=</span> <span class="st">'-'</span><span class="op">)</span>,</span>
<span>    nome <span class="op">=</span> <span class="va">Name</span>,</span>
<span>    ano <span class="op">=</span> <span class="va">Year</span>,</span>
<span>    velocidade <span class="op">=</span> <span class="va">LF.WindsMPH</span> <span class="op">*</span> <span class="fl">1.8</span>,     <span class="co"># convertido para km/h</span></span>
<span>    pressao <span class="op">=</span> <span class="va">LF.PressureMB</span>,            <span class="co"># mbar</span></span>
<span>    prejuizo <span class="op">=</span> <span class="va">BaseDam2014</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># milhões de dólares de 2014</span></span>
<span>    mortes <span class="op">=</span> <span class="va">deaths</span>,</span>
<span>    genero <span class="op">=</span> <span class="va">mf</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<ol style="list-style-type: decimal">
<li>
<p>Crie histogramas para as seguintes variáveis, escolhendo a quantidade de barras que você achar melhor.</p>
<ul>
<li><p><code>velocidade</code></p></li>
<li><p><code>prejuizo</code></p></li>
<li><p><code>mortes</code></p></li>
</ul>
<p>Não se esqueça de incluir títulos nos gráficos e rótulos nos eixos.</p>
<p>Comente os histogramas.</p>
</li>
<li>
<p>Os histogramas de prejuízos e mortes não ficaram bons. Vamos gerar histogramas transformados.</p>
<p>No <em>data frame</em>, crie duas novas colunas:</p>
<ul>
<li><p><code>logprejuizo</code>: <em>logaritmo</em> do prejuízo (na base <span class="math inline">\(10\)</span>)</p></li>
<li><p><code>logmortes</code>: <em>logaritmo</em> do número de mortes (na base <span class="math inline">\(10\)</span>)</p></li>
</ul>
<p>Agora, gere histogramas destas duas novas variáveis.</p>
</li>
<li><p>O que significa o valor do logaritmo do prejuízo na base <span class="math inline">\(10\)</span>?</p></li>
<li><p>O que significa o valor do logaritmo do número de mortes na base <span class="math inline">\(10\)</span>?</p></li>
<li><p>Por que o histograma do logaritmo do número de mortes vem com uma mensagem de aviso?</p></li>
<li><p>Por que isto não acontece com o logaritmo do prejuízo?</p></li>
<li><p>Faça um gráfico de dispersão com <code>pressao</code> no eixo <span class="math inline">\(y\)</span> e <code>velocidade</code> no eixo <span class="math inline">\(x\)</span>.</p></li>
<li><p>Usando <code>geom_smooth</code> (<a href="https://cdr.ibpad.com.br/ggplot2.html#objetos-geom%C3%A9tricos-e-tipos-de-gr%C3%A1ficos">leia a respeito</a>), sobreponha uma reta de regressão ao gráfico, usando o método <code>lm</code> e sem o erro padrão (i.e., com <code>se = FALSE</code>). O que você observa? Discuta.</p></li>
<li><p>Faça um gráfico de dispersão com <code>logmortes</code> no eixo <span class="math inline">\(y\)</span> e <code>pressao</code> no eixo <span class="math inline">\(x\)</span>.</p></li>
<li><p>Usando <code>geom_smooth</code> (<a href="https://cdr.ibpad.com.br/ggplot2.html#objetos-geom%C3%A9tricos-e-tipos-de-gr%C3%A1ficos">leia a respeito</a>), sobreponha uma reta de regressão ao gráfico, usando o método <code>lm</code> e sem o erro padrão (i.e., com <code>se = FALSE</code>). O que você observa? Discuta.</p></li>
<li><p>Faça um gráfico de dispersão com <code>logmortes</code> no eixo <span class="math inline">\(y\)</span> e <code>pressao</code> no eixo <span class="math inline">\(x\)</span>, com pontos coloridos de acordo com o gênero do nome do furacão.</p></li>
<li><p>Usando <code>geom_smooth</code> (<a href="https://cdr.ibpad.com.br/ggplot2.html#objetos-geom%C3%A9tricos-e-tipos-de-gr%C3%A1ficos">leia a respeito</a>), sobreponha retas de regressão ao gráfico, uma para cada gênero, usando o método <code>lm</code> e sem o erro padrão (i.e., com <code>se = FALSE</code>). O que você observa? Discuta.</p></li>
</ol>
<div class="rmdcaution">
<p>Visualizações como esta ajudam a explorar os dados, mas não servem para testar rigorosamente a hipótese de que furacões mulheres matam mais do que furacões homens.</p>
<p>Mais adiante no curso, vamos aprender a fazer testes mais rigorosos sobre hipóteses como esta.</p>
</div>

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

init_exercises = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

$(init_exercises)

</script><div class="chapter-nav">
<div class="prev"><a href="introdu%C3%A7%C3%A3o-ao-tidyverse.html"><span class="header-section-number">3</span> Introdução ao tidyverse</a></div>
<div class="next"><a href="viz2.html"><span class="header-section-number">5</span> Visualização com ggplot2 (continuação)</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="Nesta página"><h2>Nesta página</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#viz"><span class="header-section-number">4</span> Visualização com ggplot2</a></li>
<li><a class="nav-link" href="#v%C3%ADdeo-1-2"><span class="header-section-number">4.1</span> Vídeo 1</a></li>
<li>
<a class="nav-link" href="#componentes-de-um-gr%C3%A1fico-ggplot2"><span class="header-section-number">4.2</span> Componentes de um gráfico ggplot2</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#geometrias-e-mapeamentos-est%C3%A9ticos-mappings"><span class="header-section-number">4.2.1</span> Geometrias e mapeamentos estéticos (mappings)</a></li>
<li><a class="nav-link" href="#escalas-scales"><span class="header-section-number">4.2.2</span> Escalas (scales)</a></li>
<li><a class="nav-link" href="#r%C3%B3tulos-labels"><span class="header-section-number">4.2.3</span> Rótulos (labels)</a></li>
<li><a class="nav-link" href="#outros-componentes"><span class="header-section-number">4.2.4</span> Outros componentes</a></li>
</ul>
</li>
<li><a class="nav-link" href="#mamiferos"><span class="header-section-number">4.3</span> Conjunto de dados</a></li>
<li>
<a class="nav-link" href="#gr%C3%A1ficos-de-dispers%C3%A3o-scatter-plots"><span class="header-section-number">4.4</span> Gráficos de dispersão (scatter plots)</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#horas-de-sono-e-peso-corporal"><span class="header-section-number">4.4.1</span> Horas de sono e peso corporal</a></li>
<li><a class="nav-link" href="#horas-de-sono-e-peso-corporal-para-animais-pequenos"><span class="header-section-number">4.4.2</span> Horas de sono e peso corporal para animais pequenos</a></li>
<li><a class="nav-link" href="#incluindo-a-dieta"><span class="header-section-number">4.4.3</span> Incluindo a dieta</a></li>
<li><a class="nav-link" href="#a-est%C3%A9tica-pode-ser-especificada-na-geom"><span class="header-section-number">4.4.4</span> A estética pode ser especificada na geom</a></li>
<li><a class="nav-link" href="#apar%C3%AAncia-fixa-ou-dependendo-de-vari%C3%A1vel"><span class="header-section-number">4.4.5</span> Aparência fixa ou dependendo de variável?</a></li>
<li><a class="nav-link" href="#uma-correla%C3%A7%C3%A3o-mais-clara"><span class="header-section-number">4.4.6</span> Uma correlação mais clara</a></li>
</ul>
</li>
<li><a class="nav-link" href="#v%C3%ADdeo-2-1"><span class="header-section-number">4.5</span> Vídeo 2</a></li>
<li>
<a class="nav-link" href="#histogramas-e-cia."><span class="header-section-number">4.6</span> Histogramas e cia.</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#distribui%C3%A7%C3%B5es-de-frequ%C3%AAncia"><span class="header-section-number">4.6.1</span> Distribuições de frequência</a></li>
<li><a class="nav-link" href="#histograma"><span class="header-section-number">4.6.2</span> Histograma</a></li>
<li><a class="nav-link" href="#pol%C3%ADgono-de-frequ%C3%AAncia"><span class="header-section-number">4.6.3</span> Polígono de frequência</a></li>
</ul>
</li>
<li><a class="nav-link" href="#ogiva"><span class="header-section-number">4.7</span> Ogiva</a></li>
<li><a class="nav-link" href="#ramos-e-folhas"><span class="header-section-number">4.8</span> Ramos e folhas</a></li>
<li><a class="nav-link" href="#personaliza%C3%A7%C3%A3o-do-tema"><span class="header-section-number">4.9</span> Personalização do tema</a></li>
<li>
<a class="nav-link" href="#exerc%C3%ADcios-5"><span class="header-section-number">4.10</span> Exercícios</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#peso-cerebral-e-peso-corporal"><span class="header-section-number">4.10.1</span> Peso cerebral e peso corporal</a></li>
<li><a class="nav-link" href="#peso-cerebral-e-horas-de-sono"><span class="header-section-number">4.10.2</span> Peso cerebral e horas de sono</a></li>
<li><a class="nav-link" href="#igualdade-de-g%C3%AAnero-entre-furac%C3%B5es"><span class="header-section-number">4.10.3</span> Igualdade de gênero entre furacões?</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/fnaufel/probestr/blob/master/viz-01.Rmd">Ver código-fonte <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/fnaufel/probestr/edit/master/viz-01.Rmd">Editar esta página <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Probabilidade e Estatística com R</strong>" por Fernando Náufel (versão de 27/08/2023)</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>Criado com o <a class="text-light" href="https://bookdown.org">pacote bookdown</a> do R.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
